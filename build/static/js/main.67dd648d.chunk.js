(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),l=a.n(c),i=(a(82),a(75)),s=a(74),o=a(55),u=a.n(o),m=a(69),d=a(33),f=a(34),h=a(36),p=a(35),b=a(37),v=(a(86),a(39)),E=(a(143),Object(v.b)(v.c)),y=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.useRange,a=e.min,n=e.max;return l.a.createPortal(r.a.createElement("div",{className:"slider__layout"},t?r.a.createElement(v.a,null):r.a.createElement(E,{min:a,max:n,onChange:this.props.onUpdate})),document.getElementById("slider"))}}]),t}(r.a.Component),w=a(76),k=(a(150),["blue","red","purple"]),j={},C=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).fetchCrimeData=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/crime_robbery_2017.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a.dataSource=e.sent;case 6:case"end":return e.stop()}},e,this)})),a.init=function(){a.setState({timeInterval:"Hour",sliderMinValue:0,sliderMaxValue:23});var e=a.state,t=e.checkedType,n=e.currentLabel;a._data=a.dataSource.map(function(e){e.length=8;var t=Array.from(e),a=Object(s.a)(t,7),n=(a[0],a[1]),r=(a[2],a[3],a[4]),c=a[5];return{hour:n,label:r,center:{lat:a[6],lng:c},radius:50,fillColor:k[r]}});var r=a._data.filter(function(e){var a=e.label;return t[a]}).filter(function(e){return e.hour===n});a.drawPoints(n,r)},a.handleSliderChange=function(e){var t,n=a.state,r=n.checkedType;switch(n.timeInterval){case"Hour":t=a._data.filter(function(t){return t.hour===e}).filter(function(e){var t=e.label;return r[t]})}t&&a.drawPoints(e,t)},a.clearPoints=function(e){j[e]&&j[e].forEach(function(e){e.setMap(null)})},a.drawPoints=function(e,t){a.clearPoints(a.state.currentLabel),a.setState({currentLabel:e,animated:" blink"},function(){setTimeout(function(){a.setState({animated:""})},1e3)});var n=window.drawPoints(t),r=n.type,c=n.data;switch(r){case"circle":j[e]=c}},a.handleTypeSelect=function(e,t){var n=a.state,r=n.checkedType,c=n.currentLabel,l=Object(i.a)(r);l[e]=t,a.setState({checkedType:l});var s=a._data.filter(function(e){var t=e.label;return l[t]}).filter(function(e){return e.hour===c});a.drawPoints(c,s)},a.dataSource=[],a._data=[],a.state={timeInterval:"",sliderMinValue:0,sliderMaxValue:100,currentLabel:0,animated:"",checkedType:[!1,!0,!1]},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchCrimeData().then(function(){e.init(),console.log("loaded.")}).catch(function(e){return window.alert(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.timeInterval,n=t.currentLabel,c=t.sliderMinValue,l=t.sliderMaxValue,i=t.checkedType,s=t.animated;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"drawer__layout"},r.a.createElement("span",{className:"title"},"Time Interval"),r.a.createElement("span",{className:"content"},"By ",a),r.a.createElement("span",{className:"title"},"Time Period"),r.a.createElement("span",{className:"content".concat(s)},"".concat(n,":00 - ").concat(n+1,":00")),r.a.createElement("span",{className:"title"},"Cluster"),r.a.createElement("div",{className:"colorTable"},k.map(function(t,a){return r.a.createElement("div",{key:t,className:"color__item"},r.a.createElement(w.a,{checked:i[a],onChange:function(t){return e.handleTypeSelect(a,t.target.checked)}}),r.a.createElement("span",{className:"color__dot",style:{backgroundColor:t}}),r.a.createElement("span",null,"Cluster ",a+1))})),r.a.createElement("span",{className:"title"},"Crime Category"),r.a.createElement("span",{className:"content"},"Robbery"),r.a.createElement("span",{className:"title"},"Crime Data Year"),r.a.createElement("span",{className:"content"},"2017")),r.a.createElement(y,{useRange:!1,onUpdate:this.handleSliderChange,min:c,max:l}))}}]),t}(n.Component);l.a.render(r.a.createElement(C,null),document.getElementById("root"))},77:function(e,t,a){e.exports=a(152)},82:function(e,t,a){},86:function(e,t,a){}},[[77,2,1]]]);
//# sourceMappingURL=main.67dd648d.chunk.js.map